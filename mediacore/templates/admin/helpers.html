<!--! This file is a part of MediaCore, Copyright 2009 Simple Station Inc.

	MediaCore is free software: you can redistribute it and/or modify
	it under the terms of the GNU General Public License as published by
	the Free Software Foundation, either version 3 of the License, or
	(at your option) any later version.

	MediaCore is distributed in the hope that it will be useful,
	but WITHOUT ANY WARRANTY; without even the implied warranty of
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
	GNU General Public License for more details.

	You should have received a copy of the GNU General Public License
	along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:py="http://genshi.edgewall.org/"
      xmlns:xi="http://www.w3.org/2001/XInclude"
      py:strip="">

	<py:def function="paginated_tfoot(paginator, colspan)">
		<tfoot py:if="paginator.page_count > 1">
			<tr>
				<td class="box-foot right" colspan="${colspan}">
					<div class="pager">
						<span class="pager-left" />
						<span class="pager-body">
							<span class="pager-label">Page:</span>
							<span py:replace="paginator.pager(show_if_single_page=True, curpage_attr={'class': 'current'})" />
						</span>
						<span class="pager-right" />
					</div>
				</td>
			</tr>
		</tfoot>
	</py:def>

	<py:def function="comment_stats_box(link, total=None, published=None, unreviewed=None, trash=None, query=None)">
		<div class="box">
			<div class="box-head">
				<a href="${link}"
				   id="go-view-content" class="box-head-sec" target="_blank"
				   title="Moderate comments"
				   py:content="'Moderate'" />
				<h1>Comments</h1>
			</div>
			<table id="comments-table" cellpadding="0" cellspacing="0">
				<tr id="comments-total">
					<td class="comments-count" py:content="total if total is not None else query.count()" />
					<td>Comments</td>
				</tr>
				<tr id="comments-published">
					<td class="comments-count" py:content="published if total is not None else query.published().count()" />
					<td>Published</td>
				</tr>
				<tr id="${'comments-unreviewed' if unreviewed else 'comments-trash'}">
					<td class="comments-count" py:content="unreviewed if total is not None else query.reviewed(False).count()" />
					<td>Unreviewed</td>
				</tr>
				<tr id="comments-trash">
					<td class="comments-count" py:content="trash if total is not None else query.trash().count()" />
					<td>Trash</td>
				</tr>
			</table>
		</div>
	</py:def>

</html>
