<!--! This file is a part of MediaCore, Copyright 2009 Simple Station Inc.

	MediaCore is free software: you can redistribute it and/or modify
	it under the terms of the GNU General Public License as published by
	the Free Software Foundation, either version 3 of the License, or
	(at your option) any later version.

	MediaCore is distributed in the hope that it will be useful,
	but WITHOUT ANY WARRANTY; without even the implied warranty of
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
	GNU General Public License for more details.

	You should have received a copy of the GNU General Public License
	along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:py="http://genshi.edgewall.org/"
      xmlns:xi="http://www.w3.org/2001/XInclude">
<xi:include href="admin/master.html" />
<xi:include href="admin/settings/master.html" />
<head>
	<title>Categories</title>
	<script src="${h.url_for('/scripts/third-party/squeezebox-1.1-rc4-yui-compressed.js')}" type="text/javascript"></script>
	<link href="${h.url_for('/admin/styles/squeezebox.css')}" media="screen" rel="stylesheet" type="text/css" />
	<script type="text/javascript" src="${h.url_for('/admin/scripts/confirm.js')}"></script>
	<script type="text/javascript" src="${h.url_for('/admin/scripts/tags.js')}"></script>
	<script type="text/javascript">
		window.addEvent('domready', function(){
			var catmgr = new CategoryMgr({
				categoryName: 'Category',
				table: 'category-table',
				formSelector: 'form.category-form',
				emptyRow: 'empty-category',
				nameField: 'input.category-name',
				slugField: 'input.category-slug',
				deleteButton: 'input.delete-category',
				cancelButton: 'input.cancel-category',
				saveButton: 'input.save-category',
			});
		});
	</script>
</head>
<body class="menu-settings-on menu-settings-categories-on">
	<div class="box">
		<div class="box-head">
			<a href="${h.url_for(action='save', id='new')}" class="btn add-category f-rgt"><span>Add Category</span></a>
			<h1>Categories</h1>
		</div>
		<table cellpadding="0" cellspacing="0" id="category-table">
			<thead>
				<tr>
					<th style="width:63px"></th>
					<th style="width:193px">Name</th>
					<th style="width:auto">Slug</th>
					<th style="width:58px" class="center"># Media</th>
				</tr>
			</thead>
			<tbody>
				<tr id="empty-category">
					<td colspan="3">
						${XML(category_form(show_delete=False, action=h.url_for(action='save', id='new')))}
					</td>
					<td class="center">0</td>
				</tr>
				<tr py:if="len(categories) == 0">
					<td>None Found</td>
				</tr>
				<tr py:for="cat in categories">
					<td colspan="3">
						${XML(category_form(cat, show_delete=True, action=h.url_for(action='save', id=cat.id)))}
					</td>
					<td class="center">${cat.media_count}</td>
				</tr>
			</tbody>
			${paginated_tfoot(c.paginators.categories, '4')}
		</table>
	</div>
</body>
</html>

