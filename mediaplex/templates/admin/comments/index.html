<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:py="http://genshi.edgewall.org/"
      xmlns:xi="http://www.w3.org/2001/XInclude"
      py:with="paginator=c.paginators.collection">
<xi:include href="admin/master.html" />
	
<head>
	<title>Comments</title>
	<script src="/scripts/third-party/squeezebox-1.1-rc3.js" type="text/javascript"></script>
	<link href="/admin/styles/squeezebox.css" media="screen" rel="stylesheet" type="text/css" />
	<link href="/admin/styles/comments.css" media="screen" rel="stylesheet" type="text/css" />
	<script type="text/javascript" src="/admin/scripts/comment-list.js"></script>
	<script type="text/javascript" src="/admin/scripts/show-more.js"></script>
	<script type="text/javascript">
		window.addEvent('domready', function(){
			var cm = new CommentMgr();
			vs = new ShowMore({
				table: 'comment-table',
				pageNum: ${paginator.page},
				lastPage: ${paginator.last_page or 1},
				onMore: function(newRows){
					cm.processRows(newRows);
				}
			});
		});
	</script>
</head>
<body class="menu-comments-on">
	<div class="box">
		<div class="box-head">
			<div id="quicksearch" class="f-rgt">
				${XML(search_form(search))}
			</div>
			<h1 py:if="not search">All Comments</h1>
			<h1 py:if="search">Comments that match '${search}'</h1>
		</div>
		<xi:include href="_comment-table.html" />
		${comment_table(collection, edit_forms, classes='rounded-inputs')}
	</div>
</body>
</html>
